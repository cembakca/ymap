<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Trafik Durumu</title>
     <script src="https://api-maps.yandex.ru/2.1/?apikey=c98a99d8-4471-445d-9ba7-5ca299d8852d&lang=tr_TR" type="text/javascript">
    </script>
</head>
<body>
    <select id="cities" class="cities form-block form-is-margin js-form-styler" id="cities">
                <option value="28.987013,41.002703" >İSTANBUL</option>
                <option value="32.853034,39.923429" >ANKARA</option>
                <option value="27.125037,38.421318" >İZMİR</option>
                <option value="35.321976,37.000428" >ADANA</option>
                <option value="29.066893,40.182873" >BURSA</option>
                <option value="30.703937,36.884564" >ANTALYA</option>
                <option value="40.228397,37.914951" >DİYARBAKIR</option>
                <option value="36.331684,41.291738" >SAMSUN</option>
                <option value="32.479499,37.864012" >KONYA</option>
                <option value="29.890639,40.855371" >KOCAELİ</option>
    </select>
 <div class="traffic-page-content-map">
     <div id="map" style="width: 1000px; height: 600px"></div>
 </div>
    <script type="text/javascript">
        
        document.getElementById('cities').onchange = function(e){
            setCord(e.target.value);   
        };

        function setCord(coords){
           document.getElementById('map').innerHTML='';
           var lat = coords.split(',')[0];
           var longitude = coords.split(',')[1];
           
           var newMap = new ymaps.Map("map", {center: [longitude,lat], zoom: 10});
           
           var trafficControl = new ymaps.control.TrafficControl();
           newMap.controls.add(trafficControl);
           trafficControl.showTraffic();   
        }
        
        ymaps.ready(function(){
            var myMap = new ymaps.Map("map", {
                center: [41.002703,28.987013],
                zoom: 10
            });
            var trafficControl = new ymaps.control.TrafficControl();
            myMap.controls.add(trafficControl);
            trafficControl.showTraffic();
        });
        
    </script>
</body>
</html>
